# Aula Pr√°tica: An√°lise de Dados com VS Code e Jupyter (Continua√ß√£o)

## Entendendo o Streamlit: Transformando An√°lises em Aplica√ß√µes Web Interativas

Ap√≥s dominar o NumPy para computa√ß√£o num√©rica e o Pandas para manipula√ß√£o de dados, o pr√≥ximo passo natural em sua jornada de an√°lise de dados √© aprender a compartilhar e comunicar seus insights de forma efetiva. O Streamlit √© uma biblioteca Python revolucion√°ria que permite transformar scripts de an√°lise de dados em aplica√ß√µes web interativas e atrativas, sem necessidade de conhecimento em desenvolvimento web tradicional.

### O que √© o Streamlit?

O Streamlit √© um framework open-source desenvolvido especificamente para cientistas de dados e analistas que desejam criar aplica√ß√µes web rapidamente. Diferentemente de frameworks web tradicionais que requerem conhecimento em HTML, CSS e JavaScript, o Streamlit permite criar interfaces web completas usando apenas Python. Sua filosofia √© simples: "Se voc√™ pode escrever um script Python, voc√™ pode criar uma aplica√ß√£o web".

O Streamlit √© constru√≠do com base no conceito de "data apps" - aplica√ß√µes focadas na apresenta√ß√£o e intera√ß√£o com dados. Ele se integra perfeitamente com as bibliotecas que voc√™ j√° conhece (NumPy, Pandas, Matplotlib, Plotly) e transforma automaticamente seu c√≥digo Python em elementos web interativos.

### Para que serve o Streamlit na An√°lise de Dados?

O Streamlit preenche uma lacuna importante no workflow de an√°lise de dados: a comunica√ß√£o efetiva dos resultados. Suas principais aplica√ß√µes incluem:

- **Democratiza√ß√£o de Insights**: Permite que pessoas sem conhecimento t√©cnico interajam com suas an√°lises atrav√©s de interfaces intuitivas, expandindo o alcance de seu trabalho.
- **Prototipagem R√°pida**: Facilita a cria√ß√£o de prot√≥tipos para testar hip√≥teses e validar ideias com stakeholders de forma visual e interativa.
- **Dashboards Din√¢micos**: Cria pain√©is de controle que se atualizam em tempo real, permitindo monitoramento cont√≠nuo de m√©tricas e KPIs.
- **Apresenta√ß√µes Interativas**: Transforma an√°lises est√°ticas em experi√™ncias din√¢micas onde o p√∫blico pode explorar diferentes cen√°rios e par√¢metros.
- **Portf√≥lio Profissional**: Constr√≥i um portf√≥lio online de projetos de an√°lise de dados que demonstra suas habilidades de forma tang√≠vel.
- **Colabora√ß√£o em Equipe**: Cria ferramentas internas que permitem que diferentes membros da equipe interajam com os dados sem precisar executar c√≥digo.

### Vantagens do Streamlit para Analistas de Dados

A integra√ß√£o do Streamlit no workflow de an√°lise de dados oferece benef√≠cios √∫nicos:

- **Simplicidade Extrema**: Widgets complexos s√£o criados com uma √∫nica linha de c√≥digo. Por exemplo, `st.slider()` cria um controle deslizante funcional.
- **Reatividade Autom√°tica**: A aplica√ß√£o se atualiza automaticamente quando par√¢metros mudam, criando uma experi√™ncia interativa fluida.
- **Integra√ß√£o Nativa**: Funciona perfeitamente com NumPy arrays, DataFrames do Pandas, gr√°ficos Matplotlib/Plotly e modelos de machine learning.
- **Caching Inteligente**: Sistema de cache integrado (`@st.cache_data`) que otimiza performance ao evitar rec√°lculos desnecess√°rios.
- **Deploy Simplificado**: Aplica√ß√µes podem ser facilmente compartilhadas atrav√©s da Streamlit Community Cloud ou outras plataformas.
- **Customiza√ß√£o Flex√≠vel**: Permite personaliza√ß√£o de layout, temas e componentes para criar experi√™ncias √∫nicas.

Com o Streamlit, voc√™ pode transformar um notebook Jupyter cheio de an√°lises em uma aplica√ß√£o web profissional em quest√£o de minutos, mantendo o foco no que realmente importa: seus dados e insights.

## Configura√ß√£o do Streamlit no Ambiente de Desenvolvimento

Agora que voc√™ j√° tem o ambiente base configurado com VS Code, Python e as bibliotecas essenciais, vamos adicionar o Streamlit ao seu toolkit. O processo √© simples e se integra perfeitamente com a configura√ß√£o existente.

### 1. Instala√ß√£o do Streamlit

Com seu ambiente virtual ativado (lembre-se do comando `source .venv/bin/activate`), instale o Streamlit junto com algumas bibliotecas complementares √∫teis:

```bash
pip install streamlit requests Pillow
```

Ap√≥s a instala√ß√£o, voc√™ pode verificar se tudo funcionou corretamente executando:

```bash
streamlit --version
```

### 2. Extens√µes Adicionais do VS Code para Streamlit

Embora n√£o sejam obrigat√≥rias, estas extens√µes melhoram significativamente a experi√™ncia de desenvolvimento com Streamlit:

1. **Python Docstring Generator**: Ajuda na documenta√ß√£o de fun√ß√µes, importante para manter c√≥digo limpo
2. **autoDocstring**: Gera docstrings automaticamente
3. **Python Type Hint**: Melhora o IntelliSense para type hints

Para instalar, v√° em Extensions (`Ctrl+Shift+X`) no VS Code e pesquise pelos nomes acima.

### 3. Estrutura de Projeto Recomendada para Streamlit

Organize seus projetos de an√°lise com Streamlit da seguinte forma:

```
projeto_analise_streamlit/
‚îú‚îÄ‚îÄ .venv/                 # Ambiente virtual
‚îú‚îÄ‚îÄ data/                  # Dados do projeto
‚îÇ   ‚îú‚îÄ‚îÄ raw/              # Dados brutos
‚îÇ   ‚îú‚îÄ‚îÄ processed/        # Dados processados
‚îÇ   ‚îî‚îÄ‚îÄ external/         # Dados externos
‚îú‚îÄ‚îÄ notebooks/            # Jupyter notebooks para explora√ß√£o
‚îú‚îÄ‚îÄ src/                  # C√≥digo fonte
‚îÇ   ‚îú‚îÄ‚îÄ data_processing.py    # Fun√ß√µes de processamento
‚îÇ   ‚îú‚îÄ‚îÄ visualizations.py    # Fun√ß√µes de visualiza√ß√£o
‚îÇ   ‚îî‚îÄ‚îÄ utils.py             # Utilit√°rios gerais
‚îú‚îÄ‚îÄ streamlit_app.py      # Aplica√ß√£o Streamlit principal
‚îú‚îÄ‚îÄ requirements.txt      # Depend√™ncias
‚îú‚îÄ‚îÄ config.py            # Configura√ß√µes
‚îî‚îÄ‚îÄ README.md           # Documenta√ß√£o
```

### 4. Primeira Aplica√ß√£o Streamlit

Vamos criar sua primeira aplica√ß√£o para testar a configura√ß√£o. Crie um arquivo chamado `hello_streamlit.py`:

```python
import streamlit as st
import numpy as np
import pandas as pd

# Configura√ß√£o da p√°gina (deve ser a primeira chamada Streamlit)
st.set_page_config(
    page_title="Minha Primeira App Streamlit",
    page_icon="üìä",
    layout="wide"
)

# T√≠tulo da aplica√ß√£o
st.title("üìä Ol√°, Streamlit!")
st.write("Esta √© minha primeira aplica√ß√£o de an√°lise de dados interativa!")

# Verifica√ß√£o das bibliotecas
st.subheader("üîß Verifica√ß√£o do Ambiente")
st.write(f"Streamlit vers√£o: {st.__version__}")
st.write(f"NumPy vers√£o: {np.__version__}")
st.write(f"Pandas vers√£o: {pd.__version__}")

# Teste simples com dados
st.subheader("üìà Teste com Dados")
data = pd.DataFrame({
    'x': np.random.randn(100),
    'y': np.random.randn(100)
})

st.write("Dados aleat√≥rios gerados:")
st.dataframe(data.head())

st.write("Gr√°fico de dispers√£o:")
st.scatter_chart(data)

st.success("‚úÖ Ambiente configurado com sucesso!")
```

Para executar a aplica√ß√£o, use o terminal (com o ambiente virtual ativado):

```bash
streamlit run hello_streamlit.py
```

Se tudo estiver configurado corretamente, uma nova aba do navegador abrir√° automaticamente com sua aplica√ß√£o rodando, geralmente em `http://localhost:8501`.

### 5. Configura√ß√£o do VS Code para Desenvolvimento Streamlit

Para otimizar o desenvolvimento com Streamlit no VS Code:

1. **Configure tarefas personalizadas**: Crie um arquivo `.vscode/tasks.json` no seu projeto:

```json
{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "Run Streamlit",
            "type": "shell",
            "command": "streamlit",
            "args": ["run", "streamlit_app.py"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "new"
            }
        }
    ]
}
```

2. **Configure snippets para Streamlit**: Crie um arquivo `.vscode/python.json` com snippets √∫teis:

```json
{
    "Streamlit App Template": {
        "prefix": "st-app",
        "body": [
            "import streamlit as st",
            "import pandas as pd",
            "import numpy as np",
            "",
            "st.set_page_config(",
            "    page_title=\"${1:App Title}\",",
            "    page_icon=\"${2:üìä}\",",
            "    layout=\"wide\"",
            ")",
            "",
            "st.title(\"${3:App Title}\")",
            "st.write(\"${4:App description}\")",
            "",
            "${0}"
        ],
        "description": "Template b√°sico para aplica√ß√£o Streamlit"
    }
}
```

Agora voc√™ tem um ambiente completo para desenvolvimento com Streamlit! Na pr√≥xima se√ß√£o, vamos explorar os componentes fundamentais desta ferramenta poderosa.

## Componentes Fundamentais do Streamlit

O Streamlit oferece uma ampla gama de componentes (widgets) que permitem criar interfaces ricas e interativas. Vamos explorar os principais elementos que voc√™ utilizar√° em suas an√°lises de dados.

### 1. Elementos de Texto e Formata√ß√£o

O Streamlit oferece diversas maneiras de apresentar texto e informa√ß√µes:

```python
import streamlit as st

# T√≠tulos e cabe√ßalhos
st.title("T√≠tulo Principal")
st.header("Cabe√ßalho")
st.subheader("Subcabe√ßalho")

# Texto comum
st.write("Texto simples usando st.write()")
st.text("Texto sem formata√ß√£o usando st.text()")

# Markdown
st.markdown("**Texto em negrito** e *it√°lico*")
st.markdown("## T√≠tulo Markdown com lista:")
st.markdown("""
- Item 1
- Item 2
- Item 3
""")

# C√≥digo
st.code("print('Hello, Streamlit!')", language='python')

# LaTeX
st.latex(r"\sum_{i=1}^{n} x_i^2")
```

### 2. Widgets de Entrada (Input)

Estes componentes permitem que usu√°rios interajam com sua aplica√ß√£o:

```python
import streamlit as st
import datetime

# Slider num√©rico
idade = st.slider("Selecione sua idade", 0, 100, 25)

# Input de texto
nome = st.text_input("Digite seu nome")

# √Årea de texto
comentario = st.text_area("Coment√°rios")

# Selectbox (dropdown)
cidade = st.selectbox("Escolha sua cidade", 
                      ["S√£o Paulo", "Rio de Janeiro", "Belo Horizonte"])

# Multiselect
hobbies = st.multiselect("Selecione seus hobbies",
                         ["Leitura", "Esportes", "M√∫sica", "Cinema"])

# Radio buttons
genero = st.radio("G√™nero", ["Masculino", "Feminino", "Outro"])

# Checkbox
aceito = st.checkbox("Aceito os termos")

# Date input
data_nascimento = st.date_input("Data de nascimento",
                                datetime.date(1990, 1, 1))

# Number input
salario = st.number_input("Sal√°rio", min_value=0.0, step=100.0)

# File uploader
arquivo = st.file_uploader("Carregue um arquivo CSV", type=['csv'])
```

### 3. Exibi√ß√£o de Dados

O Streamlit oferece v√°rias maneiras de exibir dados de forma clara e interativa:

```python
import streamlit as st
import pandas as pd
import numpy as np

# Criando dados de exemplo
df = pd.DataFrame({
    'nome': ['Ana', 'Bruno', 'Carlos', 'Daniela'],
    'idade': [25, 30, 35, 28],
    'salario': [5000, 7000, 8500, 6200],
    'cidade': ['SP', 'RJ', 'BH', 'SP']
})

# Dataframe interativo
st.dataframe(df)

# Tabela est√°tica
st.table(df)

# M√©tricas
col1, col2, col3 = st.columns(3)
with col1:
    st.metric("Idade M√©dia", f"{df['idade'].mean():.1f}")
with col2:
    st.metric("Sal√°rio M√©dio", f"R$ {df['salario'].mean():,.2f}")
with col3:
    st.metric("Total Funcion√°rios", len(df))

# JSON
st.json({
    'total_funcionarios': len(df),
    'idade_media': df['idade'].mean(),
    'cidades': df['cidade'].unique().tolist()
})
```

### 4. Visualiza√ß√µes

O Streamlit tem suporte nativo para diversos tipos de gr√°ficos:

```python
import streamlit as st
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import plotly.express as px

# Dados de exemplo
df = pd.DataFrame({
    'x': np.random.randn(100),
    'y': np.random.randn(100),
    'categoria': np.random.choice(['A', 'B', 'C'], 100)
})

# Gr√°ficos nativos do Streamlit
st.line_chart(df[['x', 'y']])
st.area_chart(df[['x', 'y']])
st.bar_chart(df.groupby('categoria').size())
st.scatter_chart(df, x='x', y='y')

# Matplotlib
fig, ax = plt.subplots()
ax.hist(df['x'], bins=20)
ax.set_title('Histograma')
st.pyplot(fig)

# Plotly (mais interativo)
fig_plotly = px.scatter(df, x='x', y='y', color='categoria',
                        title='Gr√°fico de Dispers√£o Interativo')
st.plotly_chart(fig_plotly, use_container_width=True)

# Mapa (se voc√™ tiver dados de latitude/longitude)
map_data = pd.DataFrame({
    'lat': np.random.uniform(-23.6, -23.5, 20),
    'lon': np.random.uniform(-46.7, -46.6, 20)
})
st.map(map_data)
```

### 5. Layout e Organiza√ß√£o

Organize sua aplica√ß√£o com diferentes layouts:

```python
import streamlit as st

# Sidebar
st.sidebar.title("Controles")
filtro = st.sidebar.selectbox("Filtro", ["Todos", "Categoria A", "Categoria B"])

# Colunas
col1, col2, col3 = st.columns(3)
with col1:
    st.write("Coluna 1")
with col2:
    st.write("Coluna 2")
with col3:
    st.write("Coluna 3")

# Colunas com propor√ß√µes diferentes
col1, col2 = st.columns([2, 1])  # col1 √© 2x maior que col2
with col1:
    st.write("Coluna principal")
with col2:
    st.write("Sidebar secund√°ria")

# Expander (se√ß√£o colaps√°vel)
with st.expander("Clique para expandir"):
    st.write("Conte√∫do oculto que aparece quando expandido")

# Container
container = st.container()
container.write("Este √© um container")

# Placeholder (para conte√∫do din√¢mico)
placeholder = st.empty()
placeholder.text("Texto que pode ser substitu√≠do")
```

### 6. Elementos de Feedback

Forne√ßa feedback visual para os usu√°rios:

```python
import streamlit as st
import time

# Mensagens de status
st.success("Opera√ß√£o conclu√≠da com sucesso!")
st.info("Informa√ß√£o importante")
st.warning("Aten√ß√£o: verifique os dados")
st.error("Erro: algo deu errado")

# Exception
try:
    result = 1 / 0
except Exception as e:
    st.exception(e)

# Progress bar
progress_bar = st.progress(0)
for i in range(100):
    time.sleep(0.01)
    progress_bar.progress(i + 1)

# Spinner
with st.spinner("Carregando..."):
    time.sleep(2)
st.success("Carregamento conclu√≠do!")

# Balloons (celebra√ß√£o)
if st.button("Clique para comemorar!"):
    st.balloons()
```

Estes s√£o os componentes fundamentais que voc√™ usar√° para construir aplica√ß√µes de an√°lise de dados interativas. Na pr√≥xima se√ß√£o, vamos ver exemplos pr√°ticos de como combin√°-los em aplica√ß√µes reais.

## Exemplos B√°sicos de Uso do Streamlit

Agora que voc√™ conhece os componentes fundamentais, vamos explorar exemplos pr√°ticos que demonstram como usar o Streamlit para criar aplica√ß√µes de an√°lise de dados. Cada exemplo constr√≥i sobre o anterior, aumentando gradualmente a complexidade.

### 1. Calculadora de Estat√≠sticas B√°sicas

Este exemplo mostra como criar uma calculadora interativa para estat√≠sticas descritivas:

```python
import streamlit as st
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt

# Configura√ß√£o da p√°gina
st.set_page_config(
    page_title="Calculadora de Estat√≠sticas",
    page_icon="üßÆ",
    layout="wide"
)

st.title("üßÆ Calculadora de Estat√≠sticas Descritivas")
st.write("Insira n√∫meros separados por v√≠rgula ou carregue um arquivo CSV")

# Sidebar para configura√ß√µes
st.sidebar.header("‚öôÔ∏è Configura√ß√µes")

# Op√ß√£o de entrada de dados
opcao_entrada = st.sidebar.radio(
    "Como voc√™ quer inserir os dados?",
    ["Digitar n√∫meros", "Carregar arquivo CSV"]
)

# Inicializar dados
dados = None

if opcao_entrada == "Digitar n√∫meros":
    # Input manual de n√∫meros
    numeros_texto = st.text_area(
        "Digite os n√∫meros separados por v√≠rgula:",
        value="1, 2, 3, 4, 5, 6, 7, 8, 9, 10",
        height=100
    )
    
    try:
        # Converter texto em lista de n√∫meros
        numeros = [float(x.strip()) for x in numeros_texto.split(',') if x.strip()]
        dados = pd.Series(numeros, name='valores')
        st.success(f"‚úÖ {len(numeros)} n√∫meros carregados com sucesso!")
    except ValueError:
        st.error("‚ùå Erro: Certifique-se de inserir apenas n√∫meros separados por v√≠rgula")

else:
    # Upload de arquivo
    arquivo = st.file_uploader(
        "Carregue um arquivo CSV",
        type=['csv'],
        help="O arquivo deve ter uma coluna num√©rica"
    )
    
    if arquivo is not None:
        try:
            df = pd.read_csv(arquivo)
            st.write("üìÑ Dados carregados:")
            st.dataframe(df.head())
            
            # Sele√ß√£o da coluna
            coluna_numerica = st.selectbox(
                "Selecione a coluna para an√°lise:",
                df.select_dtypes(include=[np.number]).columns
            )
            
            dados = df[coluna_numerica].dropna()
            st.success(f"‚úÖ {len(dados)} valores v√°lidos encontrados na coluna '{coluna_numerica}'")
            
        except Exception as e:
            st.error(f"‚ùå Erro ao carregar arquivo: {str(e)}")

# An√°lise dos dados
if dados is not None and len(dados) > 0:
    st.header("üìä Resultados da An√°lise")
    
    # Estat√≠sticas em colunas
    col1, col2, col3, col4 = st.columns(4)
    
    with col1:
        st.metric("üìè M√©dia", f"{dados.mean():.2f}")
        st.metric("üìä Mediana", f"{dados.median():.2f}")
    
    with col2:
        st.metric("üìà M√°ximo", f"{dados.max():.2f}")
        st.metric("üìâ M√≠nimo", f"{dados.min():.2f}")
    
    with col3:
        st.metric("üìê Desvio Padr√£o", f"{dados.std():.2f}")
        st.metric("üéØ Vari√¢ncia", f"{dados.var():.2f}")
    
    with col4:
        st.metric("üìè Amplitude", f"{dados.max() - dados.min():.2f}")
        st.metric("üìä Tamanho", f"{len(dados)}")
    
    # Tabela de estat√≠sticas completa
    st.subheader("üìã Estat√≠sticas Detalhadas")
    stats_df = pd.DataFrame({
        'Estat√≠stica': ['Contagem', 'M√©dia', 'Desvio Padr√£o', 'M√≠nimo', 
                       '25% (Q1)', '50% (Mediana)', '75% (Q3)', 'M√°ximo'],
        'Valor': [dados.count(), dados.mean(), dados.std(), dados.min(),
                 dados.quantile(0.25), dados.median(), dados.quantile(0.75), dados.max()]
    })
    stats_df['Valor'] = stats_df['Valor'].round(3)
    st.table(stats_df)
    
    # Visualiza√ß√µes
    st.subheader("üìà Visualiza√ß√µes")
    
    # Escolha do tipo de gr√°fico
    tipo_grafico = st.selectbox(
        "Selecione o tipo de visualiza√ß√£o:",
        ["Histograma", "Box Plot", "Gr√°fico de Linha", "Gr√°fico de Barras"]
    )
    
    fig, ax = plt.subplots(figsize=(10, 6))
    
    if tipo_grafico == "Histograma":
        bins = st.slider("N√∫mero de bins:", 5, 50, 20)
        ax.hist(dados, bins=bins, edgecolor='black', alpha=0.7)
        ax.set_title("Histograma dos Dados")
        ax.set_xlabel("Valores")
        ax.set_ylabel("Frequ√™ncia")
        
    elif tipo_grafico == "Box Plot":
        ax.boxplot(dados)
        ax.set_title("Box Plot dos Dados")
        ax.set_ylabel("Valores")
        
    elif tipo_grafico == "Gr√°fico de Linha":
        ax.plot(dados.values, marker='o')
        ax.set_title("Gr√°fico de Linha dos Dados")
        ax.set_xlabel("√çndice")
        ax.set_ylabel("Valores")
        
    else:  # Gr√°fico de Barras
        if len(dados) <= 50:  # S√≥ mostrar barras se n√£o h√° muitos dados
            ax.bar(range(len(dados)), dados.values)
            ax.set_title("Gr√°fico de Barras dos Dados")
            ax.set_xlabel("√çndice")
            ax.set_ylabel("Valores")
        else:
            st.warning("‚ö†Ô∏è Muitos dados para gr√°fico de barras. Escolha outro tipo.")
            ax.hist(dados, bins=20, edgecolor='black', alpha=0.7)
            ax.set_title("Histograma dos Dados (alternativo)")
    
    st.pyplot(fig)
    
    # Informa√ß√µes adicionais
    with st.expander("‚ÑπÔ∏è Informa√ß√µes Adicionais"):
        st.write("**Interpreta√ß√£o das Estat√≠sticas:**")
        st.write("- **M√©dia**: Valor m√©dio dos dados")
        st.write("- **Mediana**: Valor central quando os dados est√£o ordenados")
        st.write("- **Desvio Padr√£o**: Medida de dispers√£o dos dados")
        st.write("- **Quartis**: Dividem os dados em quatro partes iguais")
        
        if dados.std() > dados.mean():
            st.info("üìä Os dados apresentam alta variabilidade (desvio padr√£o > m√©dia)")
        else:
            st.info("üìä Os dados apresentam baixa variabilidade (desvio padr√£o ‚â§ m√©dia)")

else:
    st.info("üëÜ Insira alguns dados acima para come√ßar a an√°lise!")

# Footer
st.markdown("---")
st.markdown("üìö **Desenvolvido com Streamlit** | üêç Python para An√°lise de Dados")
```

### 2. Explorador de Dataset Interativo

Este exemplo cria uma aplica√ß√£o para explorar datasets carregados pelo usu√°rio:

```python
import streamlit as st
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns
import plotly.express as px

# Configura√ß√£o da p√°gina
st.set_page_config(
    page_title="Explorador de Dataset",
    page_icon="üîç",
    layout="wide"
)

st.title("üîç Explorador de Dataset Interativo")
st.write("Carregue um arquivo CSV e explore seus dados de forma interativa!")

# Cache para carregar dados
@st.cache_data
def load_data(file):
    return pd.read_csv(file)

# Upload do arquivo
uploaded_file = st.file_uploader(
    "Escolha um arquivo CSV",
    type=['csv'],
    help="Carregue um arquivo CSV para come√ßar a explora√ß√£o"
)

if uploaded_file is not None:
    # Carregar dados
    df = load_data(uploaded_file)
    
    # Informa√ß√µes b√°sicas sobre o dataset
    st.header("üìä Vis√£o Geral do Dataset")
    
    col1, col2, col3, col4 = st.columns(4)
    with col1:
        st.metric("üìè Linhas", df.shape[0])
    with col2:
        st.metric("üìä Colunas", df.shape[1])
    with col3:
        st.metric("üíæ Tamanho", f"{df.memory_usage(deep=True).sum() / 1024:.1f} KB")
    with col4:
        st.metric("‚ùì Valores Faltantes", df.isnull().sum().sum())
    
    # Sidebar para filtros
    st.sidebar.header("üéõÔ∏è Filtros e Configura√ß√µes")
    
    # Sele√ß√£o de colunas para exibir
    colunas_selecionadas = st.sidebar.multiselect(
        "Selecione as colunas para exibir:",
        df.columns.tolist(),
        default=df.columns.tolist()[:5]  # Primeiras 5 colunas por padr√£o
    )
    
    # N√∫mero de linhas para exibir
    num_linhas = st.sidebar.slider(
        "N√∫mero de linhas para exibir:",
        5, min(100, len(df)), 10
    )
    
    # Mostrar dados filtrados
    if colunas_selecionadas:
        st.subheader("üóÇÔ∏è Dados do Dataset")
        st.dataframe(df[colunas_selecionadas].head(num_linhas))
        
        # Informa√ß√µes sobre os tipos de dados
        st.subheader("üè∑Ô∏è Tipos de Dados")
        tipos_df = pd.DataFrame({
            'Coluna': df[colunas_selecionadas].columns,
            'Tipo': df[colunas_selecionadas].dtypes.astype(str),
            'Valores √önicos': df[colunas_selecionadas].nunique(),
            'Valores Faltantes': df[colunas_selecionadas].isnull().sum(),
            '% Faltantes': (df[colunas_selecionadas].isnull().sum() / len(df) * 100).round(2)
        })
        st.dataframe(tipos_df)
        
        # An√°lise por tipo de dados
        colunas_numericas = df[colunas_selecionadas].select_dtypes(include=[np.number]).columns.tolist()
        colunas_categoricas = df[colunas_selecionadas].select_dtypes(include=['object']).columns.tolist()
        
        if colunas_numericas:
            st.subheader("üìà An√°lise de Vari√°veis Num√©ricas")
            
            # Sele√ß√£o da vari√°vel num√©rica
            var_numerica = st.selectbox("Selecione uma vari√°vel num√©rica:", colunas_numericas)
            
            if var_numerica:
                col1, col2 = st.columns(2)
                
                with col1:
                    # Estat√≠sticas descritivas
                    st.write("**Estat√≠sticas Descritivas:**")
                    stats = df[var_numerica].describe()
                    st.dataframe(stats.to_frame())
                    
                with col2:
                    # Histograma
                    fig, ax = plt.subplots()
                    ax.hist(df[var_numerica].dropna(), bins=30, edgecolor='black', alpha=0.7)
                    ax.set_title(f'Histograma de {var_numerica}')
                    ax.set_xlabel(var_numerica)
                    ax.set_ylabel('Frequ√™ncia')
                    st.pyplot(fig)
        
        if colunas_categoricas:
            st.subheader("üè∑Ô∏è An√°lise de Vari√°veis Categ√≥ricas")
            
            # Sele√ß√£o da vari√°vel categ√≥rica
            var_categorica = st.selectbox("Selecione uma vari√°vel categ√≥rica:", colunas_categoricas)
            
            if var_categorica:
                col1, col2 = st.columns(2)
                
                with col1:
                    # Contagem de valores
                    contagem = df[var_categorica].value_counts()
                    st.write("**Contagem de Valores:**")
                    st.dataframe(contagem.to_frame())
                
                with col2:
                    # Gr√°fico de barras
                    fig, ax = plt.subplots()
                    contagem.plot(kind='bar', ax=ax)
                    ax.set_title(f'Distribui√ß√£o de {var_categorica}')
                    ax.set_xlabel(var_categorica)
                    ax.set_ylabel('Contagem')
                    plt.xticks(rotation=45)
                    st.pyplot(fig)
        
        # An√°lise de correla√ß√£o (apenas para vari√°veis num√©ricas)
        if len(colunas_numericas) > 1:
            st.subheader("üîó An√°lise de Correla√ß√£o")
            
            # Matriz de correla√ß√£o
            corr_matrix = df[colunas_numericas].corr()
            
            # Heatmap
            fig, ax = plt.subplots(figsize=(10, 8))
            sns.heatmap(corr_matrix, annot=True, cmap='coolwarm', center=0, ax=ax)
            ax.set_title('Matriz de Correla√ß√£o')
            st.pyplot(fig)
            
            # Scatter plot interativo
            if len(colunas_numericas) >= 2:
                st.subheader("üìä Gr√°fico de Dispers√£o Interativo")
                
                col1, col2 = st.columns(2)
                with col1:
                    x_var = st.selectbox("Vari√°vel X:", colunas_numericas, key='x_var')
                with col2:
                    y_var = st.selectbox("Vari√°vel Y:", 
                                       [col for col in colunas_numericas if col != x_var], 
                                       key='y_var')
                
                if x_var and y_var:
                    # Op√ß√£o de colorir por vari√°vel categ√≥rica
                    color_var = None
                    if colunas_categoricas:
                        usar_cor = st.checkbox("Colorir por vari√°vel categ√≥rica")
                        if usar_cor:
                            color_var = st.selectbox("Vari√°vel para cor:", colunas_categoricas)
                    
                    # Criar gr√°fico com Plotly
                    fig = px.scatter(
                        df, 
                        x=x_var, 
                        y=y_var, 
                        color=color_var,
                        title=f'{y_var} vs {x_var}',
                        opacity=0.7
                    )
                    st.plotly_chart(fig, use_container_width=True)
        
        # Resumo executivo
        with st.expander("üìã Resumo Executivo"):
            st.write("**Caracter√≠sticas do Dataset:**")
            st.write(f"- **Tamanho**: {df.shape[0]:,} linhas e {df.shape[1]} colunas")
            st.write(f"- **Vari√°veis Num√©ricas**: {len(colunas_numericas)}")
            st.write(f"- **Vari√°veis Categ√≥ricas**: {len(colunas_categoricas)}")
            st.write(f"- **Valores Faltantes**: {df.isnull().sum().sum():,} ({df.isnull().sum().sum()/df.size*100:.1f}%)")
            
            if colunas_numericas:
                st.write("**Insights das Vari√°veis Num√©ricas:**")
                for col in colunas_numericas[:3]:  # Primeiras 3 colunas
                    media = df[col].mean()
                    std = df[col].std()
                    st.write(f"- {col}: M√©dia = {media:.2f}, Desvio Padr√£o = {std:.2f}")
    
    else:
        st.warning("‚ö†Ô∏è Selecione pelo menos uma coluna para exibir os dados.")

else:
    st.info("üìÅ Carregue um arquivo CSV para come√ßar a explora√ß√£o!")
    
    # Exemplo de dados para demonstra√ß√£o
    st.subheader("üí° Exemplo com Dados de Demonstra√ß√£o")
    if st.button("Carregar Dados de Exemplo"):
        # Criar dados de exemplo
        np.random.seed(42)
        exemplo_df = pd.DataFrame({
            'idade': np.random.randint(18, 80, 100),
            'salario': np.random.normal(50000, 15000, 100),
            'experiencia': np.random.randint(0, 40, 100),
            'departamento': np.random.choice(['TI', 'Vendas', 'Marketing', 'RH'], 100),
            'genero': np.random.choice(['M', 'F'], 100)
        })
        
        st.write("Dados de exemplo carregados:")
        st.dataframe(exemplo_df.head())
        st.info("üí° Use o uploader acima para carregar seus pr√≥prios dados!")

# Footer
st.markdown("---")
st.markdown("üîß **Ferramenta desenvolvida com Streamlit** | üìä An√°lise de Dados Interativa")
```

### 3. Comparador de Distribui√ß√µes

Este exemplo avan√ßado permite comparar distribui√ß√µes estat√≠sticas:

```python
import streamlit as st
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns
from scipy import stats
import plotly.graph_objects as go
from plotly.subplots import make_subplots

# Configura√ß√£o da p√°gina
st.set_page_config(
    page_title="Comparador de Distribui√ß√µes",
    page_icon="üìä",
    layout="wide"
)

st.title("üìä Comparador de Distribui√ß√µes Estat√≠sticas")
st.write("Compare diferentes distribui√ß√µes estat√≠sticas e seus par√¢metros interativamente!")

# Sidebar para configura√ß√µes
st.sidebar.header("‚öôÔ∏è Configura√ß√µes")

# N√∫mero de amostras
n_samples = st.sidebar.slider("N√∫mero de amostras:", 100, 10000, 1000, step=100)

# Configura√ß√£o das distribui√ß√µes
st.sidebar.subheader("üìà Distribui√ß√£o 1")
dist1_type = st.sidebar.selectbox(
    "Tipo de distribui√ß√£o 1:",
    ["Normal", "Exponencial", "Uniforme", "Binomial", "Poisson"]
)

# Par√¢metros para distribui√ß√£o 1
if dist1_type == "Normal":
    mu1 = st.sidebar.slider("M√©dia (Œº):", -10.0, 10.0, 0.0, step=0.1, key="mu1")
    sigma1 = st.sidebar.slider("Desvio padr√£o (œÉ):", 0.1, 5.0, 1.0, step=0.1, key="sigma1")
    dist1_data = np.random.normal(mu1, sigma1, n_samples)
    dist1_params = f"Œº={mu1}, œÉ={sigma1}"

elif dist1_type == "Exponencial":
    lambda1 = st.sidebar.slider("Lambda (Œª):", 0.1, 5.0, 1.0, step=0.1, key="lambda1")
    dist1_data = np.random.exponential(1/lambda1, n_samples)
    dist1_params = f"Œª={lambda1}"

elif dist1_type == "Uniforme":
    a1 = st.sidebar.slider("Limite inferior (a):", -10.0, 10.0, 0.0, key="a1")
    b1 = st.sidebar.slider("Limite superior (b):", a1, 20.0, 10.0, key="b1")
    dist1_data = np.random.uniform(a1, b1, n_samples)
    dist1_params = f"a={a1}, b={b1}"

elif dist1_type == "Binomial":
    n1 = st.sidebar.slider("N√∫mero de tentativas (n):", 1, 100, 10, key="n1")
    p1 = st.sidebar.slider("Probabilidade (p):", 0.01, 1.0, 0.5, step=0.01, key="p1")
    dist1_data = np.random.binomial(n1, p1, n_samples)
    dist1_params = f"n={n1}, p={p1}"

else:  # Poisson
    lam1 = st.sidebar.slider("Lambda (Œª):", 0.1, 20.0, 3.0, step=0.1, key="lam1")
    dist1_data = np.random.poisson(lam1, n_samples)
    dist1_params = f"Œª={lam1}"

# Configura√ß√£o da segunda distribui√ß√£o
st.sidebar.subheader("üìâ Distribui√ß√£o 2")
comparar = st.sidebar.checkbox("Comparar com segunda distribui√ß√£o")

if comparar:
    dist2_type = st.sidebar.selectbox(
        "Tipo de distribui√ß√£o 2:",
        ["Normal", "Exponencial", "Uniforme", "Binomial", "Poisson"]
    )
    
    # Par√¢metros para distribui√ß√£o 2
    if dist2_type == "Normal":
        mu2 = st.sidebar.slider("M√©dia (Œº):", -10.0, 10.0, 2.0, step=0.1, key="mu2")
        sigma2 = st.sidebar.slider("Desvio padr√£o (œÉ):", 0.1, 5.0, 1.5, step=0.1, key="sigma2")
        dist2_data = np.random.normal(mu2, sigma2, n_samples)
        dist2_params = f"Œº={mu2}, œÉ={sigma2}"

    elif dist2_type == "Exponencial":
        lambda2 = st.sidebar.slider("Lambda (Œª):", 0.1, 5.0, 2.0, step=0.1, key="lambda2")
        dist2_data = np.random.exponential(1/lambda2, n_samples)
        dist2_params = f"Œª={lambda2}"

    elif dist2_type == "Uniforme":
        a2 = st.sidebar.slider("Limite inferior (a):", -10.0, 10.0, -5.0, key="a2")
        b2 = st.sidebar.slider("Limite superior (b):", a2, 20.0, 5.0, key="b2")
        dist2_data = np.random.uniform(a2, b2, n_samples)
        dist2_params = f"a={a2}, b={b2}"

    elif dist2_type == "Binomial":
        n2 = st.sidebar.slider("N√∫mero de tentativas (n):", 1, 100, 20, key="n2")
        p2 = st.sidebar.slider("Probabilidade (p):", 0.01, 1.0, 0.3, step=0.01, key="p2")
        dist2_data = np.random.binomial(n2, p2, n_samples)
        dist2_params = f"n={n2}, p={p2}"

    else:  # Poisson
        lam2 = st.sidebar.slider("Lambda (Œª):", 0.1, 20.0, 5.0, step=0.1, key="lam2")
        dist2_data = np.random.poisson(lam2, n_samples)
        dist2_params = f"Œª={lam2}"

# Conte√∫do principal
if not comparar:
    # An√°lise de uma distribui√ß√£o
    st.header(f"üìä An√°lise da Distribui√ß√£o {dist1_type}")
    
    # Estat√≠sticas descritivas
    col1, col2, col3, col4 = st.columns(4)
    with col1:
        st.metric("üìè M√©dia", f"{np.mean(dist1_data):.3f}")
    with col2:
        st.metric("üìä Mediana", f"{np.median(dist1_data):.3f}")
    with col3:
        st.metric("üìê Desvio Padr√£o", f"{np.std(dist1_data):.3f}")
    with col4:
        st.metric("üìà Assimetria", f"{stats.skew(dist1_data):.3f}")
    
    # Visualiza√ß√µes
    fig = make_subplots(
        rows=2, cols=2,
        subplot_titles=['Histograma', 'Box Plot', 'Q-Q Plot', 'Fun√ß√£o de Densidade'],
        specs=[[{"secondary_y": False}, {"secondary_y": False}],
               [{"secondary_y": False}, {"secondary_y": False}]]
    )
    
    # Histograma
    fig.add_trace(
        go.Histogram(x=dist1_data, nbinsx=50, name="Histograma", 
                    histnorm='probability density'),
        row=1, col=1
    )
    
    # Box Plot
    fig.add_trace(
        go.Box(y=dist1_data, name="Box Plot"),
        row=1, col=2
    )
    
    # Q-Q Plot
    theoretical_quantiles = stats.norm.ppf(np.linspace(0.01, 0.99, len(dist1_data)))
    sample_quantiles = np.sort(dist1_data)
    fig.add_trace(
        go.Scatter(x=theoretical_quantiles, y=sample_quantiles, 
                  mode='markers', name="Q-Q Plot"),
        row=2, col=1
    )
    
    # Linha de refer√™ncia para Q-Q plot
    min_val = min(theoretical_quantiles.min(), sample_quantiles.min())
    max_val = max(theoretical_quantiles.max(), sample_quantiles.max())
    fig.add_trace(
        go.Scatter(x=[min_val, max_val], y=[min_val, max_val], 
                  mode='lines', name="Linha de Refer√™ncia", line=dict(dash='dash')),
        row=2, col=1
    )
    
    # Fun√ß√£o de densidade (KDE)
    from scipy.stats import gaussian_kde
    kde = gaussian_kde(dist1_data)
    x_range = np.linspace(dist1_data.min(), dist1_data.max(), 100)
    density = kde(x_range)
    
    fig.add_trace(
        go.Scatter(x=x_range, y=density, mode='lines', name="KDE"),
        row=2, col=2
    )
    
    fig.update_layout(height=700, showlegend=False, 
                     title_text=f"An√°lise da Distribui√ß√£o {dist1_type} ({dist1_params})")
    st.plotly_chart(fig, use_container_width=True)

else:
    # Compara√ß√£o de duas distribui√ß√µes
    st.header(f"üìä Compara√ß√£o: {dist1_type} vs {dist2_type}")
    
    # Estat√≠sticas comparativas
    col1, col2 = st.columns(2)
    
    with col1:
        st.subheader(f"üìà {dist1_type} ({dist1_params})")
        stats1_df = pd.DataFrame({
            'Estat√≠stica': ['M√©dia', 'Mediana', 'Desvio Padr√£o', 'Vari√¢ncia', 'Assimetria', 'Curtose'],
            'Valor': [
                np.mean(dist1_data),
                np.median(dist1_data),
                np.std(dist1_data),
                np.var(dist1_data),
                stats.skew(dist1_data),
                stats.kurtosis(dist1_data)
            ]
        })
        stats1_df['Valor'] = stats1_df['Valor'].round(4)
        st.dataframe(stats1_df)
    
    with col2:
        st.subheader(f"üìâ {dist2_type} ({dist2_params})")
        stats2_df = pd.DataFrame({
            'Estat√≠stica': ['M√©dia', 'Mediana', 'Desvio Padr√£o', 'Vari√¢ncia', 'Assimetria', 'Curtose'],
            'Valor': [
                np.mean(dist2_data),
                np.median(dist2_data),
                np.std(dist2_data),
                np.var(dist2_data),
                stats.skew(dist2_data),
                stats.kurtosis(dist2_data)
            ]
        })
        stats2_df['Valor'] = stats2_df['Valor'].round(4)
        st.dataframe(stats2_df)
    
    # Testes estat√≠sticos
    st.subheader("üß™ Testes Estat√≠sticos")
    
    # Teste de normalidade
    _, p_norm1 = stats.normaltest(dist1_data)
    _, p_norm2 = stats.normaltest(dist2_data)
    
    # Teste t de Student (se ambas forem aproximadamente normais)
    if p_norm1 > 0.05 and p_norm2 > 0.05:
        t_stat, p_ttest = stats.ttest_ind(dist1_data, dist2_data)
        st.write(f"**Teste t de Student**: t = {t_stat:.4f}, p-value = {p_ttest:.4f}")
        if p_ttest < 0.05:
            st.success("‚úÖ H√° diferen√ßa significativa entre as m√©dias (p < 0.05)")
        else:
            st.info("üìä N√£o h√° diferen√ßa significativa entre as m√©dias (p ‚â• 0.05)")
    
    # Teste de Mann-Whitney (n√£o-param√©trico)
    u_stat, p_mann = stats.mannwhitneyu(dist1_data, dist2_data, alternative='two-sided')
    st.write(f"**Teste de Mann-Whitney**: U = {u_stat:.4f}, p-value = {p_mann:.4f}")
    if p_mann < 0.05:
        st.success("‚úÖ H√° diferen√ßa significativa entre as distribui√ß√µes (p < 0.05)")
    else:
        st.info("üìä N√£o h√° diferen√ßa significativa entre as distribui√ß√µes (p ‚â• 0.05)")
    
    # Teste de Kolmogorov-Smirnov
    ks_stat, p_ks = stats.ks_2samp(dist1_data, dist2_data)
    st.write(f"**Teste de Kolmogorov-Smirnov**: D = {ks_stat:.4f}, p-value = {p_ks:.4f}")
    
    # Visualiza√ß√µes comparativas
    fig = make_subplots(
        rows=2, cols=2,
        subplot_titles=['Histogramas Sobrepostos', 'Box Plots Comparativos', 
                       'Fun√ß√µes de Densidade', 'Fun√ß√µes de Distribui√ß√£o Cumulativa'],
    )
    
    # Histogramas sobrepostos
    fig.add_trace(
        go.Histogram(x=dist1_data, nbinsx=50, name=f"{dist1_type}", 
                    opacity=0.7, histnorm='probability density'),
        row=1, col=1
    )
    fig.add_trace(
        go.Histogram(x=dist2_data, nbinsx=50, name=f"{dist2_type}", 
                    opacity=0.7, histnorm='probability density'),
        row=1, col=1
    )
    
    # Box plots
    fig.add_trace(
        go.Box(y=dist1_data, name=f"{dist1_type}", x0=f"{dist1_type}"),
        row=1, col=2
    )
    fig.add_trace(
        go.Box(y=dist2_data, name=f"{dist2_type}", x0=f"{dist2_type}"),
        row=1, col=2
    )
    
    # Fun√ß√µes de densidade
    kde1 = gaussian_kde(dist1_data)
    kde2 = gaussian_kde(dist2_data)
    x_min = min(dist1_data.min(), dist2_data.min())
    x_max = max(dist1_data.max(), dist2_data.max())
    x_range = np.linspace(x_min, x_max, 200)
    
    fig.add_trace(
        go.Scatter(x=x_range, y=kde1(x_range), mode='lines', name=f"KDE {dist1_type}"),
        row=2, col=1
    )
    fig.add_trace(
        go.Scatter(x=x_range, y=kde2(x_range), mode='lines', name=f"KDE {dist2_type}"),
        row=2, col=1
    )
    
    # Fun√ß√µes de distribui√ß√£o cumulativa
    x1_sorted = np.sort(dist1_data)
    y1_cdf = np.arange(1, len(x1_sorted) + 1) / len(x1_sorted)
    x2_sorted = np.sort(dist2_data)
    y2_cdf = np.arange(1, len(x2_sorted) + 1) / len(x2_sorted)
    
    fig.add_trace(
        go.Scatter(x=x1_sorted, y=y1_cdf, mode='lines', name=f"CDF {dist1_type}"),
        row=2, col=2
    )
    fig.add_trace(
        go.Scatter(x=x2_sorted, y=y2_cdf, mode='lines', name=f"CDF {dist2_type}"),
        row=2, col=2
    )
    
    fig.update_layout(height=800, title_text="Compara√ß√£o de Distribui√ß√µes")
    st.plotly_chart(fig, use_container_width=True)

# Se√ß√£o educativa
with st.expander("üìö Sobre as Distribui√ß√µes"):
    st.write("""
    **Normal**: Distribui√ß√£o sim√©trica em forma de sino, muito comum na natureza.
    
    **Exponencial**: Modela tempo entre eventos em processos de Poisson.
    
    **Uniforme**: Todos os valores no intervalo t√™m a mesma probabilidade.
    
    **Binomial**: N√∫mero de sucessos em n tentativas independentes.
    
    **Poisson**: N√∫mero de eventos em um intervalo fixo de tempo ou espa√ßo.
    """)

with st.expander("üß™ Sobre os Testes Estat√≠sticos"):
    st.write("""
    **Teste t de Student**: Compara m√©dias de duas amostras (assume normalidade).
    
    **Teste de Mann-Whitney**: Vers√£o n√£o-param√©trica do teste t.
    
    **Teste de Kolmogorov-Smirnov**: Compara as distribui√ß√µes completas.
    
    **p-value < 0.05**: Evid√™ncia estat√≠stica de diferen√ßa significativa.
    """)

# Footer
st.markdown("---")
st.markdown("üìä **Desenvolvido com Streamlit** | üî¨ An√°lise Estat√≠stica Interativa")
```

Estes exemplos demonstram o poder do Streamlit para criar aplica√ß√µes de an√°lise de dados sofisticadas e interativas. Na pr√≥xima se√ß√£o, vamos criar exerc√≠cios pr√°ticos para consolidar o aprendizado.
